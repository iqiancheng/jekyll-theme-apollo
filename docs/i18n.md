# Multi-language (i18n) Support

This Jekyll theme supports multiple languages through a simple configuration-based approach.

## Supported Languages

- **English** (`en`) - Default
- **Simplified Chinese** (`zh-CN`) - 简体中文
- **Traditional Chinese** (`zh-TW`) - 繁體中文
- **Japanese** (`ja`) - 日本語

## How to Switch Languages

Edit `_config.yml` and change the `language` setting:

```yaml
# For English (default)
language: en

# For Simplified Chinese
language: zh-CN

# For Traditional Chinese
language: zh-TW

# For Japanese
language: ja
```

After changing the language, restart Jekyll:

```bash
bundle exec jekyll serve
```

## What Gets Translated

The following UI elements are automatically translated:

| Element | English | 简体中文 | 繁體中文 | 日本語 |
|---------|---------|---------|---------|--------|
| Read more link | more... | 阅读更多 | 閱讀更多 | 続きを読む |
| Archive page | Archive | 归档 | 歸檔 | アーカイブ |
| Categories page | Categories | 分类 | 分類 | カテゴリー |
| Tags page | Tags | 标签 | 標籤 | タグ |
| **Menu: Blog** | **Blog** | **博客** | **部落格** | **ブログ** |
| **Menu: Archive** | **Archive** | **归档** | **歸檔** | **アーカイブ** |
| **Menu: About** | **About** | **关于** | **關於** | **について** |
| **Menu: RSS** | **RSS** | **订阅** | **訂閱** | **RSS** |
| Footer text | powered by | 由 | 由 | powered by |
| Conjunction | and | 和 | 和 | と |

## Date Formats

Date formats are also localized:

- **English**: `Jan 15, 2024`
- **Chinese**: `2024年01月15日`

## Menu Configuration

Menu items in `_config.yml` can use `i18n_key` for automatic translation:

```yaml
menu:
  - i18n_key: blog    # Will show: Blog / 博客 / 部落格
    link: /
  - i18n_key: archive # Will show: Archive / 归档 / 歸檔
    link: /archive/
  - name: GitHub      # Hardcoded names still work (for external links)
    link: https://github.com/username
  - i18n_key: about   # Will show: About / 关于 / 關於
    link: /about/
```

**Available menu i18n keys:**
- `blog` - Blog / 博客 / 部落格
- `archive` - Archive / 归档 / 歸檔
- `about` - About / 关于 / 關於
- `rss` - RSS / 订阅 / 訂閱

## Adding New Languages

To add a new language:

1. **Create language file**

   Create `_data/i18n/[language-code].yml`:

   ```yaml
   # Example: _data/i18n/ja.yml for Japanese
   read_more: "続きを読む"
   archive: "アーカイブ"
   categories: "カテゴリー"
   tags: "タグ"
   powered_by: "powered by"
   and: "と"
   date_format: "%Y年%m月%d日"
   date_format_short: "%m月%d日"
   ```

2. **Update _config.yml**

   ```yaml
   language: ja
   ```

3. **Test**

   ```bash
   bundle exec jekyll serve
   ```

## Adding New Translatable Strings

To add new UI text that needs translation:

1. **Add to all language files**

   Edit `_data/i18n/en.yml`, `_data/i18n/zh-CN.yml`, and `_data/i18n/zh-TW.yml`:

   ```yaml
   # Add to all three files
   new_text: "Your translation here"
   ```

2. **Use in templates**

   ```liquid
   {{ site.data.i18n[site.language].new_text }}
   ```

## Technical Details

### Implementation

This theme uses Jekyll's native `_data` directory feature, which is:
- ✅ **GitHub Pages compatible** - No plugins required
- ✅ **Simple** - Just YAML files
- ✅ **Fast** - No build overhead
- ✅ **Maintainable** - Easy to add/modify translations

### File Structure

```
_data/
└── i18n/
    ├── en.yml       # English translations
    ├── zh-CN.yml    # Simplified Chinese
    └── zh-TW.yml    # Traditional Chinese
```

### How It Works

Templates access translations via:

```liquid
{{ site.data.i18n[site.language].key_name }}
```

Where:
- `site.data.i18n` - Points to `_data/i18n/` directory
- `site.language` - Current language from `_config.yml`
- `key_name` - Translation key from YAML file

## Limitations

### What's NOT Translated

- **Post content** - You need to write posts in your chosen language
- **Post titles** - Titles remain as written
- **Menu items** - Navigation menu names in `_config.yml`
- **Site title** - The site title in `_config.yml`

### Multi-language Posts

This implementation does NOT support:
- Multiple language versions of the same post
- Automatic language switching per post
- Language-specific URLs

For full multi-language post support, consider using plugins like `jekyll-multiple-languages-plugin` (requires custom GitHub Actions deployment).

## Examples

### English Site

```yaml
# _config.yml
language: en
title: My Blog
```

Result: "more...", "Archive", "powered by Jekyll and hexo-theme-apollo"

### Chinese Site

```yaml
# _config.yml
language: zh-CN
title: 我的博客
```

Result: "阅读更多", "归档", "由 Jekyll 和 hexo-theme-apollo 驱动"

## Troubleshooting

### Translations Not Showing

1. **Check language code**
   ```yaml
   # Correct
   language: zh-CN
   
   # Wrong (case sensitive!)
   language: zh-cn
   language: ZH-CN
   ```

2. **Restart Jekyll**
   ```bash
   # Stop current server (Ctrl+C)
   bundle exec jekyll serve
   ```

3. **Check file exists**
   ```bash
   ls _data/i18n/
   # Should show: en.yml  zh-CN.yml  zh-TW.yml
   ```

### Missing Translations

If you see blank text, check that the key exists in your language file:

```yaml
# _data/i18n/en.yml
read_more: "more..."  # ✅ Correct

# Missing key will show blank
```

## Resources

- [Jekyll Data Files Documentation](https://jekyllrb.com/docs/datafiles/)
- [Liquid Template Language](https://shopify.github.io/liquid/)
- Language files: [`_data/i18n/`](_data/i18n/)
